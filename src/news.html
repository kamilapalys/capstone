<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>news</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="news_files/libs/clipboard/clipboard.min.js"></script>
<script src="news_files/libs/quarto-html/quarto.js"></script>
<script src="news_files/libs/quarto-html/popper.min.js"></script>
<script src="news_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="news_files/libs/quarto-html/anchor.min.js"></script>
<link href="news_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="news_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="news_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="news_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="news_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">



<div class="cell" data-execution_count="108">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> nltk</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> nltk.corpus <span class="im">import</span> stopwords</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> nltk.stem <span class="im">import</span> PorterStemmer</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> string</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> string <span class="im">import</span> punctuation</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> os <span class="im">import</span> listdir</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> Counter</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> tensorflow.keras.preprocessing.text <span class="im">import</span> Tokenizer</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> nltk.tokenize <span class="im">import</span> word_tokenize</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="106">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> text_to_tokens(filename):</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a> <span class="co">'''Opens the input text file and</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"> returns a list of all of its words.'''</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a> <span class="bu">file</span> <span class="op">=</span> <span class="bu">open</span>(filename, <span class="st">'r'</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a> text <span class="op">=</span> <span class="bu">file</span>.read()</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a> <span class="bu">file</span>.close()</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a> text <span class="op">=</span> text.replace(<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>, <span class="st">' '</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a> text <span class="op">=</span> text.replace(<span class="st">'  '</span>, <span class="st">' '</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a> <span class="cf">return</span> text</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>cd ..</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>/Users/kamilapalys/Desktop/school/data450/capstone</code></pre>
</div>
</div>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>pwd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>'/Users/kamilapalys/Desktop/school/data450/capstone'</code></pre>
</div>
</div>
<div class="cell" data-execution_count="112">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># example of using the function</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>filepath <span class="op">=</span> <span class="st">'data/text/cnn_trump.txt'</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>test_txt <span class="op">=</span> text_to_tokens(filepath)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>test_txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="112">
<pre><code>"Donald Trump faces more than 30 counts related to business fraud in an indictment from a Manhattan grand jury, according to two sources familiar with the case – the first time in American history that a current or former president has faced criminal charges. Trump is expected to appear in court on Tuesday. The indictment has been filed under seal and will be announced in the coming days. The charges are not publicly known at this time. Manhattan District Attorney Alvin Bragg’s office has been investigating the former president in connection with his alleged role in a hush money payment scheme and cover-up involving adult film star Stormy Daniels that dates to the 2016 presidential election. Grand jury proceedings are secret, but a source familiar with the case told CNN that a witness gave about 30 minutes of testimony before it voted to indict Trump. The decision is sure to send shockwaves across the country, pushing the American political system – which has never seen one of its ex-leaders confronted with criminal charges, let alone while running again for president – into uncharted waters. Trump released a statement in response to the indictment claiming it was “Political Persecution and Election Interference at the highest level in history.” “I believe this Witch-Hunt will backfire massively on Joe Biden,” the former president said. “The American people realize exactly what the Radical Left Democrats are doing here. Everyone can see it. So our Movement, and our Party – united and strong – will first defeat Alvin Bragg, and then we will defeat Joe Biden, and we are going to throw every last one of these Crooked Democrats out of office so we can MAKE AMERICA GREAT AGAIN!” Trump was caught off guard by the grand jury’s decision to indict him, according to a person who spoke directly with him. While the former president was bracing for an indictment last week, he began to believe news reports that a potential indictment was weeks – or more – away. “Is this a shock today? Hell yes,” the person said, speaking on a condition of anonymity as Trump’s team calculated its response. Bragg’s office said it is in touch with Trump’s lawyers. “This evening we contacted Mr. Trump’s attorney to coordinate his surrender to the Manhattan D.A.’s Office for arraignment on a Supreme Court indictment, which remains under seal,” the district attorney’s office said in a statement Thursday. “Guidance will be provided when the arraignment date is selected.” Joe Tacopina, the defense lawyer for Trump, said the former president was initially asked to turn himself in to authorities in New York on Friday, the day after a Manhattan grand jury voted to indict him. But Tacopina said he was surprised by the timing of the indictment and that more time was needed, as the Secret Service that protects the former president needs to coordinate his surrender in New York. The legal action against Trump jolts the 2024 presidential campaign into a new phase, as the former president has vowed to keep running in the face of criminal charges. Trump has frequently called the various investigations surrounding him a “witch hunt,” attempting to sway public opinion on them by casting himself as a victim of what he’s claimed are political probes led by Democratic prosecutors. As the indictment reportedly neared, Trump urged his supporters to protest his arrest, echoing his calls to action following the 2020 election as he tried to overturn his loss to President Joe Biden. Trump has long avoided legal consequences in his personal, professional and political lives. He has settled a number of private civil lawsuits through the years and paid his way out of disputes concerning the Trump Organization, his namesake company. As president, he was twice impeached by the Democratic-led House, but avoided conviction by the Senate. In December, the Trump Organization was convicted on multiple charges of tax fraud, though Trump himself was not charged in that case. Trump’s Republican allies – as well as his 2024 GOP rivals – have condemned the Manhattan district attorney’s office over the looming indictment. “I think the unprecedented indictment of a former president of the United States on a campaign finance issue is an outrage,” former Vice President Mike Pence told CNN’s Wolf Blitzer in an interview Thursday night. “It appears to millions of Americans to be nothing more than a political prosecution that’s driven by a prosecutor who literally ran for office on a pledge to indict the former president.” GOP rallies to Trump’s defense House Speaker Kevin McCarthy has vowed to launch an investigation into the matter, and congressional Republicans quickly rallied to Trump’s defense, attacking Bragg on Twitter and accusing the district attorney of a political witch hunt. “Outrageous,” tweeted House Judiciary Chairman Jim Jordan of Ohio, one of the Republican committee chairmen who has demanded Bragg testify before Congress about the Trump investigation. Sen. Ted Cruz, a Texas Republican, called the indictment “completely unprecedented” and said it is “a catastrophic escalation in the weaponization of the justice system.” But at least one moderate Republican told CNN he trusted the legal system. “I believe in the rule of law. I think we have checks and balances and I trust the system,” said Rep. Don Bacon of Nebraska. “We have a judge. We have jurors. There is appeals. So I think in the end, justice will be done. If he’s guilty it will show up. But if not, I think that will be shown too,” Bacon told CNN. Former Vice President Mike Pence is interviewed by CNN's Wolf Bitzer on Thursday, March 30. 'An outrage': Pence reacts to Trump indictment Investigation began under Cy Vance Bragg’s office had signaled as recently as early March that they were close to bringing charges against Trump after they invited the ex-president to testify before the grand jury probing the hush money scheme. Potential defendants in New York are required by law to be notified and invited to appear before a grand jury weighing charges. But Trump ultimately declined to appear before the panel. The long-running investigation first began under Bragg’s predecessor, Cy Vance, when Trump was in office. It relates to a $130,000 payment made by Trump’s then-personal attorney Michael Cohen to Daniels in late October 2016, days before the 2016 presidential election, to silence her from going public about an alleged affair with Trump a decade earlier. Trump has denied the affair. At issue in the investigation is the payment made to Daniels and the Trump Organization’s reimbursement to Cohen. According to court filings in Cohen’s own federal prosecution, Trump Organization executives authorized payments to him totaling $420,000 to cover his original $130,000 payment and tax liabilities and reward him with a bonus. The Trump Organization noted the reimbursements as a legal expense in its internal books. Trump has denied knowledge of the payment."</code></pre>
</div>
</div>
<div class="cell" data-execution_count="114">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> clean_text(text):</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">'''Takes in a list of tokens and cleans them by converting</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co">    to lowercase, removing punctuation, removing stopwords, </span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co">    and stemming. Returns the new list of tokens.'''</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    ps <span class="op">=</span> PorterStemmer()</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># create list of stopwords </span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    stopwords_list <span class="op">=</span> stopwords.words(<span class="st">'english'</span>)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># make the text lowercase</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> text.lower()</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># convert to ascii characters</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> text.encode(<span class="st">"ascii"</span>, <span class="st">"ignore"</span>).decode()</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    new_text <span class="op">=</span> <span class="st">''</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="bu">chr</span> <span class="kw">in</span> text:</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>        <span class="co"># only keep characters in the string that are not punctuation symbols</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">chr</span> <span class="kw">in</span> string.punctuation:</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>            text <span class="op">=</span> text.replace(<span class="bu">chr</span>, <span class="st">' '</span>)</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> text.replace(<span class="st">'  '</span>, <span class="st">' '</span>)</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># stem the tokens within the text</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>    tokens <span class="op">=</span> text.split(<span class="st">" "</span>)</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>    stemmed <span class="op">=</span> []</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> token <span class="kw">in</span> tokens:</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>        stemmed_word <span class="op">=</span> ps.stem(token)</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>        <span class="co"># only include new token in the cleaned list if not a stopword</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> stemmed_word <span class="kw">not</span> <span class="kw">in</span> stopwords_list:</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>            stemmed.append(stemmed_word)</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>    cleaned_text <span class="op">=</span> <span class="st">" "</span>.join(stemmed)</span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> cleaned_text</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="115">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>cleaned_text <span class="op">=</span> clean_text(test_txt)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>cleaned_text</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="115">
<pre><code>'donald trump face 30 count relat busi fraud indict manhattan grand juri accord two sourc familiar case first time american histori current former presid ha face crimin charg trump expect appear court tuesday indict ha file seal announc come day charg publicli known thi time manhattan district attorney alvin bragg offic ha investig former presid connect hi alleg role hush money payment scheme cover involv adult film star stormi daniel date 2016 presidenti elect grand juri proceed secret sourc familiar case told cnn wit gave 30 minut testimoni befor vote indict trump decis sure send shockwav across countri push american polit system ha never seen one ex leader confront crimin charg let alon run presid unchart water trump releas statement respons indict claim wa polit persecut elect interfer highest level histori believ thi witch hunt backfir massiv joe biden former presid said american peopl realiz exactli radic left democrat everyon see movement parti unit strong first defeat alvin bragg defeat joe biden go throw everi last one crook democrat offic make america great trump wa caught guard grand juri decis indict accord person spoke directli former presid wa brace indict last week began believ news report potenti indict wa week away thi shock today hell ye person said speak condit anonym trump team calcul respons bragg offic said touch trump lawyer thi even contact mr trump attorney coordin hi surrend manhattan offic arraign suprem court indict remain seal district attorney offic said statement thursday guidanc provid arraign date select joe tacopina defens lawyer trump said former presid wa initi ask turn author new york friday day manhattan grand juri vote indict tacopina said wa surpris time indict time wa need secret servic protect former presid need coordin hi surrend new york legal action trump jolt 2024 presidenti campaign new phase former presid ha vow keep run face crimin charg trump ha frequent call variou investig surround witch hunt attempt sway public opinion cast victim claim polit probe led democrat prosecutor indict reportedli near trump urg hi support protest hi arrest echo hi call action follow 2020 elect tri overturn hi loss presid joe biden trump ha long avoid legal consequ hi person profession polit live ha settl number privat civil lawsuit year paid hi way disput concern trump organ hi namesak compani presid wa twice impeach democrat led hous avoid convict senat decemb trump organ wa convict multipl charg tax fraud though trump wa charg case trump republican alli well hi 2024 gop rival condemn manhattan district attorney offic loom indict think unpreced indict former presid unit state campaign financ issu outrag former vice presid mike penc told cnn wolf blitzer interview thursday night appear million american noth polit prosecut driven prosecutor liter ran offic pledg indict former presid gop ralli trump defens hous speaker kevin mccarthi ha vow launch investig matter congression republican quickli ralli trump defens attack bragg twitter accus district attorney polit witch hunt outrag tweet hous judiciari chairman jim jordan ohio one republican committe chairmen ha demand bragg testifi befor congress trump investig sen ted cruz texa republican call indict complet unpreced said catastroph escal weapon justic system least one moder republican told cnn trust legal system believ rule law think check balanc trust system said rep bacon nebraska judg juror appeal think end justic done guilti show think shown bacon told cnn former vice presid mike penc interview cnn wolf bitzer thursday march 30  outrag  penc react trump indict investig began cy vanc bragg offic signal recent earli march close bring charg trump invit ex presid testifi befor grand juri probe hush money scheme potenti defend new york requir law notifi invit appear befor grand juri weigh charg trump ultim declin appear befor panel long run investig first began bragg predecessor cy vanc trump wa offic relat 130 000 payment made trump person attorney michael cohen daniel late octob 2016 day befor 2016 presidenti elect silenc go public alleg affair trump decad earlier trump ha deni affair issu investig payment made daniel trump organ reimburs cohen accord court file cohen feder prosecut trump organ execut author payment total 420 000 cover hi origin 130 000 payment tax liabil reward bonu trump organ note reimburs legal expens intern book trump ha deni knowledg payment '</code></pre>
</div>
</div>
<div class="cell" data-execution_count="128">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># how all the text files will be looped through</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>directory <span class="op">=</span> <span class="st">'data/text/'</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>file_list <span class="op">=</span> []</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> filename <span class="kw">in</span> os.listdir(directory):</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    filepath <span class="op">=</span> os.path.join(directory, filename)</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    file_list.append(<span class="ss">f"</span><span class="sc">{</span>filepath<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>file_list</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># use preprocessing functions</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># somehow append each list of tokens (each article) to a dataframe</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="128">
<pre><code>['data/text/nyp_affirmative.txt',
 'data/text/bbc_tanks.txt',
 'data/text/cnn_hamas.txt',
 'data/text/wsj_trump.txt',
 'data/text/wp_affirmative.txt',
 'data/text/bbc_balloon.txt',
 'data/text/wsj_affirmative.txt',
 'data/text/nyt_trump.txt',
 'data/text/wp_balloon.txt',
 'data/text/cnn_pentagon.txt',
 'data/text/cnn_tanks.txt',
 'data/text/bbc_hamas.txt',
 'data/text/nbc_tanks.txt',
 'data/text/nyp_hamas.txt',
 'data/text/.DS_Store',
 'data/text/cnn_balloon.txt',
 'data/text/fox_pentagon.txt',
 'data/text/wp_biden.txt',
 'data/text/nyp_tanks.txt',
 'data/text/nbc_hamas.txt',
 'data/text/abc_balloon.txt',
 'data/text/nyt_pentagon.txt',
 'data/text/fox_tanks.txt',
 'data/text/wp_trump.txt',
 'data/text/fox_hamas.txt',
 'data/text/nyp_balloon.txt',
 'data/text/abc_hamas.txt',
 'data/text/abc_santos.txt',
 'data/text/nyp_santos.txt',
 'data/text/fox_affirmative.txt',
 'data/text/wsj_biden.txt',
 'data/text/nyt_biden.txt',
 'data/text/abc_tanks.txt',
 'data/text/nbc_affirmative.txt',
 'data/text/nyt_hamas.txt',
 'data/text/wsj_tanks.txt',
 'data/text/wp_pentagon.txt',
 'data/text/nyp_pentagon.txt',
 'data/text/bbc_trump.txt',
 'data/text/nyt_affirmative.txt',
 'data/text/cnn_trump.txt',
 'data/text/abc_biden.txt',
 'data/text/cnn_affirmative.txt',
 'data/text/bbc_affirmative.txt',
 'data/text/wsj_hamas.txt',
 'data/text/wsj_pentagon.txt',
 'data/text/nyt_tanks.txt',
 'data/text/nbc_balloon.txt',
 'data/text/fox_biden.txt',
 'data/text/wsj_balloon.txt',
 'data/text/nbc_pentagon.txt',
 'data/text/bbc_santos.txt',
 'data/text/wsj_santos.txt',
 'data/text/nbc_trump.txt',
 'data/text/nyp_trump.txt',
 'data/text/cnn_santos.txt',
 'data/text/abc_pentagon.txt',
 'data/text/fox_santos.txt',
 'data/text/wp_hamas.txt',
 'data/text/fox_trump.txt',
 'data/text/nbc_biden.txt',
 'data/text/nyp_biden.txt',
 'data/text/nyt_balloon.txt',
 'data/text/wp_tanks.txt',
 'data/text/wp_santos.txt',
 'data/text/bbc_biden.txt',
 'data/text/cnn_biden.txt',
 'data/text/abc_trump.txt',
 'data/text/nyt_santos.txt',
 'data/text/bbc_pentagon.txt',
 'data/text/abc_affirmative.txt',
 'data/text/nbc_santos.txt',
 'data/text/fox_balloon.txt']</code></pre>
</div>
</div>
<div class="cell" data-execution_count="91">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>doc1 <span class="op">=</span> <span class="st">'start engine'</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>doc2 <span class="op">=</span> <span class="st">'start your engine'</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>doc3 <span class="op">=</span> <span class="st">'whenever youre ready to start'</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>docs <span class="op">=</span> [doc1, doc2, doc3]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="99">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># takes all docs and makes them into a dataframe</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co"># make sure that docs is just a list of all the tokens from all articles</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co"># first make one list of tokens for each article and then add all those lists up</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co"># mode is one of "binary", "count", "tfidf", "freq"</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>t <span class="op">=</span> Tokenizer()</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>t.fit_on_texts(docs)</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(t)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>encoded_docs <span class="op">=</span> t.texts_to_matrix(docs, mode<span class="op">=</span><span class="st">'binary'</span>)</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="co">#print(encoded_docs)</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>words <span class="op">=</span> [x <span class="cf">for</span> x <span class="kw">in</span> t.word_index.keys()]</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>bow <span class="op">=</span> pd.DataFrame(data <span class="op">=</span> encoded_docs[:, <span class="dv">1</span>:], columns<span class="op">=</span>words)</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>bow[<span class="st">'source'</span>] <span class="op">=</span> [<span class="st">'cnn'</span>]<span class="op">*</span><span class="dv">2</span> <span class="op">+</span> [<span class="st">'abc'</span>]</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>bow</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;keras.src.preprocessing.text.Tokenizer object at 0x178a732b0&gt;</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="99">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">start</th>
<th data-quarto-table-cell-role="th">engine</th>
<th data-quarto-table-cell-role="th">your</th>
<th data-quarto-table-cell-role="th">whenever</th>
<th data-quarto-table-cell-role="th">youre</th>
<th data-quarto-table-cell-role="th">ready</th>
<th data-quarto-table-cell-role="th">to</th>
<th data-quarto-table-cell-role="th">source</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>cnn</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>cnn</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>abc</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution_count="118">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>t <span class="op">=</span> Tokenizer()</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>docs <span class="op">=</span> [cleaned_text]</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>t.fit_on_texts(docs)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(t)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>encoded_docs <span class="op">=</span> t.texts_to_matrix(docs, mode<span class="op">=</span><span class="st">'binary'</span>)</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="co">#print(encoded_docs)</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>words <span class="op">=</span> [x <span class="cf">for</span> x <span class="kw">in</span> t.word_index.keys()]</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>bow <span class="op">=</span> pd.DataFrame(data <span class="op">=</span> encoded_docs[:, <span class="dv">1</span>:], columns<span class="op">=</span>words)</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>bow</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;keras.src.preprocessing.text.Tokenizer object at 0x178c5de20&gt;</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="118">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">trump</th>
<th data-quarto-table-cell-role="th">indict</th>
<th data-quarto-table-cell-role="th">presid</th>
<th data-quarto-table-cell-role="th">ha</th>
<th data-quarto-table-cell-role="th">hi</th>
<th data-quarto-table-cell-role="th">former</th>
<th data-quarto-table-cell-role="th">wa</th>
<th data-quarto-table-cell-role="th">offic</th>
<th data-quarto-table-cell-role="th">charg</th>
<th data-quarto-table-cell-role="th">said</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">420</th>
<th data-quarto-table-cell-role="th">origin</th>
<th data-quarto-table-cell-role="th">liabil</th>
<th data-quarto-table-cell-role="th">reward</th>
<th data-quarto-table-cell-role="th">bonu</th>
<th data-quarto-table-cell-role="th">note</th>
<th data-quarto-table-cell-role="th">expens</th>
<th data-quarto-table-cell-role="th">intern</th>
<th data-quarto-table-cell-role="th">book</th>
<th data-quarto-table-cell-role="th">knowledg</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
</tbody>
</table>

<p>1 rows × 361 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="74">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.feature_extraction.text <span class="im">import</span> CountVectorizer</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">'text'</span>: docs, <span class="st">'source'</span>: [<span class="st">'cnn'</span>, <span class="st">'abc'</span>, <span class="st">'nbc'</span>]}</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>vectorizer <span class="op">=</span> CountVectorizer()</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>bow <span class="op">=</span> vectorizer.fit_transform(df[<span class="st">'text'</span>])</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(bow)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>count_array <span class="op">=</span> bow.toarray()</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>features <span class="op">=</span> vectorizer.get_feature_names()</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(count_array)</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(features)</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="co">#df = pd.DataFrame(data=count_array, columns=features)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>AttributeError: 'list' object has no attribute 'lower'</code></pre>
</div>
</div>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>